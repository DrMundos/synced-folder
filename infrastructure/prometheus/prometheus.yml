global:
  scrape_interval: 3s          # Collect metrics every 3 seconds
  evaluation_interval: 3s      # Evaluate alert rules every 3 seconds

scrape_configs:
  # Monitor Prometheus itself
  - job_name: "prometheus"
    static_configs:
      - targets: ["sync_prometheus:9090"]

  # Monitor Python Sync Server (exposes /metrics on port 8000)
  - job_name: "sync_server"
    metrics_path: /metrics
    static_configs:
      - targets: ["sync_server:8000"]

  # Optional: Monitor PostgreSQL via Postgres Exporter
  - job_name: "postgres_exporter"
    static_configs:
      - targets: ["sync_postgres_exporter:9187"]
